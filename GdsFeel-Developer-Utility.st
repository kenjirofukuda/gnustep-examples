Object subclass: #GdsGlyphExporter	instanceVariableNames: 'station'	classVariableNames: ''	poolDictionaries: ''	category: 'GdsFeel-Developer-Utility'!!GdsGlyphExporter commentStamp: 'kf 5/9/2009 18:51' prior: 0!A GdsGlyphExporter is support class for GDSII's TEXT Glyph development.!!GdsGlyphExporter methodsFor: 'as yet unclassified' stamp: 'kf 6/18/2009 20:37'!createDatabase	(GdsLibrary exists: self dbName)		ifFalse: [ GdsLibrary 			initializeName: self dbName			databaseUnits: 1000			unitString: 'MM' ].	! !!GdsGlyphExporter methodsFor: 'as yet unclassified' stamp: 'kf 10/27/2009 10:30'!createGlyph: asciiValue on: aGdsStructure 	| c glyph |	c := Character value: asciiValue.	glyph := self class fontDescription at: c.	aGdsStructure currentItem layerNumber: 0;		 putRectangle: self class boundsForCompare.	aGdsStructure currentItem layerNumber: 1;		 boundary.	glyph contours		do: [:ptArray | 			ptArray				do: [:ttPoint | aGdsStructure currentItem ce: ttPoint].			aGdsStructure currentItem put].! !!GdsGlyphExporter methodsFor: 'as yet unclassified' stamp: 'kf 6/18/2009 20:36'!dbName	^'SAMPLE_GLYPHS'! !!GdsGlyphExporter methodsFor: 'as yet unclassified' stamp: 'kf 6/18/2009 21:00'!outputGlyphs	self createDatabase.	station := GdsStation new.	station openLibraryNamed: self dbName.	self class printableAsciiCodes		do: [:asciiValue | 			| structure sname |			sname := self class glyphStructureBaseNameFor: asciiValue.			structure := station library structureNamed: sname.			structure				ifNil: [					structure := station newStructureNamed: sname.					self createGlyph: asciiValue on: structure.					station closeStructure.]				ifNotNil: [					Transcript 						cr; 						show: ('***WARNING*** Already exported: {1}' format: {sname})].].	station closeLibrary.	station := nil.! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!GdsGlyphExporter class	instanceVariableNames: ''!!GdsGlyphExporter class methodsFor: 'private' stamp: 'kf 5/9/2009 18:46'!boundsForCompare	^ Rectangle 		origin: 0 @ 0		extent: 1600 @ 1600! !!GdsGlyphExporter class methodsFor: 'private' stamp: 'kf 5/9/2009 18:44'!fontDescription	^TTFontDescription default! !!GdsGlyphExporter class methodsFor: 'private' stamp: 'kf 5/9/2009 14:53'!glyphStructureBaseNameFor: anAsciiCode	 ^(anAsciiCode radix: 8) padded: #left  to: 3  with: $0.! !!GdsGlyphExporter class methodsFor: 'private' stamp: 'kf 5/9/2009 14:53'!printableAsciiCodes	"self printableAsciiCodes"	^(16r21 to: 16r7E)! !!GdsGlyphExporter class methodsFor: 'service' stamp: 'kf 6/18/2009 20:50'!outputGlyphs	"Cursor wait showWhile: [self outputGlyphs]"	self new outputGlyphs.! !