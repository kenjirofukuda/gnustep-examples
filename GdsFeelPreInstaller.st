Object subclass: #GdsFeelPreInstaller	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'GdsFeelPreInstaller'!!GdsFeelPreInstaller methodsFor: 'testing' stamp: 'kf 9/24/2009 20:49'!canInstallGdsCompiler	^self hasKomServices.! !!GdsFeelPreInstaller methodsFor: 'testing' stamp: 'kf 11/6/2009 22:35'!canInstallGdsFeel	^#(hasINIFile hasRegex hasSplitJoin hasXML hasBorderedStringMorph hasCSV)		allSatisfy: [:key | self perform: key].! !!GdsFeelPreInstaller methodsFor: 'testing' stamp: 'kf 9/23/2009 22:29'!hasBorderedStringMorph	^self hasClassSymbol:  #BorderedStringMorph! !!GdsFeelPreInstaller methodsFor: 'testing' stamp: 'kf 11/6/2009 22:54'!hasCSV	^ self hasClassSymbol: #CSVParser! !!GdsFeelPreInstaller methodsFor: 'testing' stamp: 'kf 9/23/2009 22:48'!hasClassSymbol: aSymbol	^(Smalltalk at: aSymbol ifAbsent: [nil]) isNil not.! !!GdsFeelPreInstaller methodsFor: 'testing' stamp: 'kf 9/23/2009 22:28'!hasINIFile	^self hasClassSymbol: #INIFile! !!GdsFeelPreInstaller methodsFor: 'testing' stamp: 'kf 9/23/2009 23:11'!hasKomServices	^self hasClassSymbol: #TcpService.! !!GdsFeelPreInstaller methodsFor: 'testing' stamp: 'kf 10/13/2012 09:55'!hasPluggableButtonMorphPlus	^self hasClassSymbol:  #PluggableButtonMorphPlus! !!GdsFeelPreInstaller methodsFor: 'testing' stamp: 'kf 9/23/2009 22:37'!hasRegex	^('item1 item2' respondsTo: #matchesRegex:) ! !!GdsFeelPreInstaller methodsFor: 'testing' stamp: 'kf 9/23/2009 23:11'!hasSeaside	^self hasClassSymbol: #WAComponent.! !!GdsFeelPreInstaller methodsFor: 'testing' stamp: 'kf 9/23/2009 22:22'!hasSplitJoin	^('item1 item2' respondsTo: #splitOn:) and: [{'item1' . 'item2'} respondsTo: #joinUsing:]! !!GdsFeelPreInstaller methodsFor: 'testing' stamp: 'kf 9/24/2009 14:55'!hasTrait	^self hasClassSymbol: #Trait! !!GdsFeelPreInstaller methodsFor: 'testing' stamp: 'kf 10/14/2012 19:46'!hasUpdatingRectangleMorph 	^self hasClassSymbol:  #UpdatingRectangleMorph ! !!GdsFeelPreInstaller methodsFor: 'testing' stamp: 'kf 10/13/2012 10:47'!hasUpdatingThreePhaseButtonMorph	^self hasClassSymbol:  #UpdatingThreePhaseButtonMorph! !!GdsFeelPreInstaller methodsFor: 'testing' stamp: 'kf 9/23/2009 22:33'!hasXML	^#(XMLWriter XMLElement XMLDocument) allSatisfy: [:each | self hasClassSymbol: each].! !!GdsFeelPreInstaller methodsFor: 'testing' stamp: 'kf 9/24/2009 21:04'!isSqueakLight	^self class isSqueakLight	 	! !!GdsFeelPreInstaller methodsFor: 'private' stamp: 'kf 9/23/2009 23:31'!debugPuts: anObject	Transcript cr; show: anObject asString.	! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 08:42'!installBorderedStringMorph	self installFromGdsFeelFilenamed: 'BorderedStringMorph.st'.		! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 08:54'!installCSV	self installSqueakSource:  'CSV' package:  'CSV'.	 	! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'KenjiroFukuda 10/14/2012 20:38'!installGdsCompiler	self installSqueakSource:  'GdsFeel' package:  'GdsCompiler'.	 	! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'KenjiroFukuda 10/14/2012 20:25'!installGdsFeelModel	self installSqueakSource:  'GdsFeel' package:  'GdsFeel-Model'.	 	! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'KenjiroFukuda 10/14/2012 20:25'!installGdsFeelMorphic	self installSqueakSource:  'GdsFeel' package:  'GdsFeel-Morphic'.	 	! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 08:55'!installINIFile	self installSqueakSource:  'INIFile' package:  'INIFile'.	 	! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'KenjiroFukuda 10/14/2012 20:24'!installKFImaging	self installSqueakSource:  'GdsFeel' package:  'KFImaging'.	 	! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 08:57'!installKomServices	self installSqueakSource:  'KomHttpServer' package:  'DynamicBindings'.	self installSqueakSource:  'KomHttpServer' package:  'KomServices'.	 	! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 10/13/2012 10:06'!installPluggableButtonMorphPlus	self installFromGdsFeelFilenamed: 'PluggableButtonMorphPlus-Pharo1dot4.st'.		! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 08:56'!installRegex	self installSqueakSource:  'Regex' package:  'VB-Regex'.	 	! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 08:56'!installSplitJoin	self installSqueakSource:  'SplitJoin' package:  'SplitJoin'.		! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 08:52'!installSqueakSource: aSqueakSource package: aPackage	self installerClass squeaksource		project: aSqueakSource;		install: aPackage	! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 20:54'!installStringExtension	self installSqueakSource:  'GdsFeel' package:  'StringExtension'.	 	! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 9/24/2009 15:13'!installTraitPatches	| clazz |	clazz := Smalltalk at: #Trait.	(clazz allSelectors includes: #withAllSubclassesDo:)		ifTrue: [^self].	self installerClass installUrl: self traitPatchUrl.! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 10/14/2012 19:53'!installUpdatingRectangleMorph 	self installFromGdsFeelFilenamed: 'UpdatingRectangleMorph-Pharo1dot4.st'.		! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 10/13/2012 10:47'!installUpdatingThreePhaseButtonMorph	self installFromGdsFeelFilenamed: 'UpdatingThreePhaseButtonMorph-Pharo1dot4.st'.		! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 08:57'!installXML	self installSqueakSource:  'XMLSupport' package:  'XML-Parser'.	 	! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 9/24/2009 15:13'!installerClass	^Smalltalk at: #Installer! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'KenjiroFukuda 10/14/2012 20:39'!run	self runRequired.	self runGdsFeelBody.	self runGdsFeelCompilerBody.		! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'KenjiroFukuda 10/14/2012 20:33'!runGdsFeelBody	self debugPuts: 'KFImaging'.	self installKFImaging.	self debugPuts: 'GdsFeel-Model'.	self installGdsFeelModel.	self debugPuts: 'GdsFeel-Morphic'.	self installGdsFeelMorphic.	! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'KenjiroFukuda 10/14/2012 20:39'!runGdsFeelCompilerBody	self debugPuts: 'GdsCompiler'.	self installGdsCompiler.! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 10/14/2012 19:51'!runRequired	self runRequiredModel.	self runRequiredMorphic.	self runRequiredGdsCompiler.	! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 08:58'!runRequiredGdsCompiler	self hasKomServices		ifFalse: [ 			self debugPuts: 'install KomServices'.			self installKomServices ]! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 10/14/2012 19:50'!runRequiredModel	self hasTrait 		ifTrue: [			self debugPuts: 'install Trait Ptches'.						self installTraitPatches ].	self hasRegex 		ifFalse: [ 			self debugPuts: 'install VB-Regex'.			self installRegex ].	self hasSplitJoin 		ifFalse: [			self debugPuts: 'install SplitJoin'.			self installSplitJoin ].	self hasINIFile 		ifFalse: [			self debugPuts: 'install INIFile'.			self installINIFile ].	self hasXML 		ifFalse: [			self debugPuts: 'install XML-Parser'.			self installXML ].	self hasCSV 		ifFalse: [ 			self debugPuts: 'install CSV'.			self installCSV ].	self installStringExtension.! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 10/14/2012 19:49'!runRequiredMorphic	self hasBorderedStringMorph 		ifFalse: [ 				self debugPuts: 'install BorderedStringMorph'.			self installBorderedStringMorph ].			self hasPluggableButtonMorphPlus  		ifFalse: [ 				self debugPuts: 'install PluggableButtonMorphPlus'.			self installPluggableButtonMorphPlus].			self hasUpdatingThreePhaseButtonMorph   		ifFalse: [ 				self debugPuts: 'install UpdatingThreePhaseButtonMorph'.			self installUpdatingThreePhaseButtonMorph].			self hasUpdatingRectangleMorph    		ifFalse: [ 				self debugPuts: 'install UpdatingRectangleMorph'.			self installUpdatingRectangleMorph].		! !!GdsFeelPreInstaller methodsFor: 'install' stamp: 'kf 9/24/2009 15:01'!traitPatchUrl	^'http://bugs.squeak.org/file_download.php?file_id=3783&type=bug'.! !!GdsFeelPreInstaller methodsFor: 'protected' stamp: 'KenjiroFukuda 2/3/2011 20:29'!installFromGdsFeelFilenamed: aFileName	| loader savedURL |	loader := CodeLoader new.	savedURL := loader baseURL.	(loader respondsTo: #baseURL:)		ifTrue: [			loader baseURL: 'http://gdsfeel.com/downloads/']		ifFalse: [			loader instVarNamed: 'baseURL' put: 'http://gdsfeel.com/downloads/'].	loader loadSourceFiles: (Array with: aFileName).	loader installSourceFiles.	(loader respondsTo: #baseURL:)		ifTrue: [			loader baseURL: savedURL]		ifFalse: [			loader instVarNamed: 'baseURL' put: savedURL].	 		! !"-- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- -- "!GdsFeelPreInstaller class	instanceVariableNames: ''!!GdsFeelPreInstaller class methodsFor: 'as yet unclassified' stamp: 'kf 9/23/2009 22:41'!checkKeys	^self selectors select: [:sel | sel isUnary and: [sel asString beginsWith: 'has'] ]! !!GdsFeelPreInstaller class methodsFor: 'as yet unclassified' stamp: 'kf 9/23/2009 22:43'!checkMap	"self checkMap"	| map inst |	map := Dictionary new.	inst := self new.	self checkKeys do: [:key |		map at: key put: (inst perform: key)].	^map.	! !!GdsFeelPreInstaller class methodsFor: 'as yet unclassified' stamp: 'kf 10/12/2012 08:35'!preInstallerClass	"GdsFeelPreInstaller preInstallerClass"	self isSqueakLight 		ifTrue: [^GdsFeelSqueakLightPreInstaller].	self isPharo 		ifTrue: [^GdsFeelPharoPreInstaller].	^self! !!GdsFeelPreInstaller class methodsFor: 'initialization' stamp: 'kf 10/8/2009 15:25'!initialize	"self initialize"	self openReadMe.! !!GdsFeelPreInstaller class methodsFor: 'services' stamp: 'kf 9/24/2009 21:06'!install	self preInstallerClass new run.! !!GdsFeelPreInstaller class methodsFor: 'testing' stamp: 'kf 10/12/2012 08:33'!isPharo	^SystemVersion current version beginsWith: 'Pharo'! !!GdsFeelPreInstaller class methodsFor: 'testing' stamp: 'kf 9/24/2009 21:03'!isSqueakLight	^SystemVersion current version beginsWith: 'SqueakLight'! !!GdsFeelPreInstaller class methodsFor: 'documentation' stamp: 'kf 10/8/2009 15:25'!openReadMe	"self openReadMe."	"| window |	window := SystemWindow allSubInstances 						detect: [:w | w label sameAs: self readMeTitle] ifNone: [nil].	window ifNotNil: [window owner ifNotNil: [^self]]."	(StringHolder new contents: self readMeContents)		openLabel: self readMeTitle. ! !!GdsFeelPreInstaller class methodsFor: 'documentation' stamp: 'kf 11/6/2009 22:38'!readMeContents	^'Evalute this:-------------------GdsFeelPreInstaller install."and after install this order:"- KFImaging.- GdsFeel-Model- GdsFeel-MorphicCheck for Installation:---------------------------------GdsFeelPreInstaller checkMap explore.INSTALL for GdsFeel:- VB-Regex- SplitJoin- BorderedStringMorph- CSVINSTALL for GdsCompiler:- KomServices- KomHttpServer' ! !!GdsFeelPreInstaller class methodsFor: 'documentation' stamp: 'kf 9/25/2009 22:16'!readMeTitle	^'README - ', self name asString.! !GdsFeelPreInstaller subclass: #GdsFeelSqueakLightPreInstaller	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'GdsFeelPreInstaller'!!GdsFeelSqueakLightPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 09:07'!installCSV	self installSqueakSource: 'CSV' sourceFiles: #('CSV-avi.3.mcz').	 	! !!GdsFeelSqueakLightPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 09:06'!installINIFile	self installSqueakSource: 'INIFile' sourceFiles: #('INIFile-ac.6.mcz').	! !!GdsFeelSqueakLightPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 09:06'!installKomServices	self installSqueakSource: 'KomHttpServer' sourceFiles: #('DynamicBindings-GiovanniCorriga.10.mcz' 'KomServices-gc.19.mcz').	! !!GdsFeelSqueakLightPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 09:05'!installRegex	self installSqueakSource: 'Regex' sourceFiles: #('VB-Regex-avi.2.mcz').	 	! !!GdsFeelSqueakLightPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 09:04'!installSplitJoin	self installSqueakSource: 'SplitJoin' sourceFiles: #('SplitJoin-onierstrasz.26.mcz').	! !!GdsFeelSqueakLightPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 09:03'!installSqueakSource: aSqueakSource sourceFiles: aSourceFiles	| loader |	self assert: [self isSqueakLight].	loader := CodeLoader new.	loader baseURL: 'http://www.squeaksource.com/', aSqueakSource, '/'.	loader loadSourceFiles: aSourceFiles.	loader installSourceFiles.! !!GdsFeelSqueakLightPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 20:56'!installStringExtension	self installSqueakSource:  'GdsFeel' package:  'StringExtension-kf.5.mcz'.! !!GdsFeelSqueakLightPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 09:04'!installXML	self installSqueakSource: 'XMLSupport' sourceFiles: #('XML-Parser-mir.14.mcz').	 	! !GdsFeelPreInstaller subclass: #GdsFeelPharoPreInstaller	instanceVariableNames: ''	classVariableNames: ''	poolDictionaries: ''	category: 'GdsFeelPreInstaller'!!GdsFeelPharoPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 10:59'!installFromGdsFeelFilenamed: aFileName	(('http://gdsfeel.com/downloads/',  aFileName) asUrl)		retrieveContents contentStream fileIn.! !!GdsFeelPharoPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 23:18'!installINIFile	self		tempAllowUnderscoreDuring: [super installINIFile]		fixPackages: #('INIFile-Core' 'INIFile-Test' )		! !!GdsFeelPharoPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 20:50'!installSqueakSource: aSqueakSource package: aPackage	(Smalltalk at: #Gofer) it 		squeaksource: aSqueakSource;		package: aPackage;		load. ! !!GdsFeelPharoPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 17:16'!installXML	self installSqueakSource:  'XMLSupport' package:  'ConfigurationOfXMLSupport'.	(Smalltalk at: #ConfigurationOfXMLSupport) perform: #loadDefault.! !!GdsFeelPharoPreInstaller methodsFor: 'install' stamp: 'kf 10/12/2012 23:16'!tempAllowUnderscoreDuring: aBlock fixPackages: packages	| savedSetting |	savedSetting := Scanner allowUnderscoreAsAssignment.		[Scanner allowUnderscoreAsAssignment: true.	aBlock value ]		ensure:  [			Scanner allowUnderscoreAsAssignment: savedSetting.].	FixUnderscores fixPackages: packages! !GdsFeelPreInstaller initialize!